var mcwModule=function(){"use strict";var e={},n={},o=function(){var e={};return e.mobileMenuButton=$(".hamburger"),e.mobileMenu=$(".l-header__menu-wrapper"),e.searchWrapper=$(".m-search-from"),e.searchInput=$(".m-search-from__input"),e.footerDropdownMenu=$(".m-dropdown-menu"),e.footerDropdownMenuItem=$(".m-dropdown-menu__item"),e.haritageSection=$(".l-harritage"),e.haritageTopSection=$(".m-harritage"),e.historyCard=$(".m-history-card"),e.grapeLeaf=$(".m-grape-leaf__leaf"),e.windowWidth=$(window).width(),e.subMenu=$(".sub-menu"),e.menuItem=$(".m-menu__list > .menu-item"),e.angleMobileMenu=$(".m-menu__angle-btn"),e},t=function(){e.mobileMenuButton.click(function(n){n.stopPropagation(),e.mobileMenuButton.toggleClass("is-active"),e.mobileMenu.toggleClass("l-header__menu-wrapper--opened")}),$(document).on("click",function(n){0===$(e.mobileMenu).has(n.target).length&&(e.mobileMenuButton.removeClass("is-active"),e.mobileMenu.removeClass("l-header__menu-wrapper--opened"),e.subMenu.removeClass("sub-menu--opened"))})},r=function(){e.subMenu.prepend('<li id="back_to_main" class="sub-menu__back-to-menu"><span><i class="i-icon-arrowleft"></i>BACK TO MAIN MENU</span></li>')},c=function(){var n='<button class="m-menu__angle-btn"><i class="i-icon-arrowright"></i></button>';e.menuItem.find(".sub-menu").each(function(e,o){$(o).parent().prepend(n)})},a=function(){$(window).on("resize",function(){$(window).width()<1170&&(c(),$(".m-menu__angle-btn").click(function(e){e.stopPropagation(),$(this).parent().find(".sub-menu").addClass("sub-menu--opened")}),$(".sub-menu__back-to-menu").on("click",function(n){n.stopPropagation(),e.subMenu.removeClass("sub-menu--opened")}))})},u=function(){e.searchInput.on("click",function(o){e.searchInput.val(n.serchInputValue),e.searchWrapper.addClass("m-search-from--active"),o.stopPropagation()})},i=function(){e.searchInput.blur(function(){var o=e.searchInput.val();n.serchInputValue=o,e.searchInput.val(""),e.searchWrapper.removeClass("m-search-from--active")})},s=function(){e.footerDropdownMenu.click(function(n){n.stopPropagation(),e.footerDropdownMenu.removeClass("m-dropdown-menu--active"),$(this).addClass("m-dropdown-menu--active")}),$(document).on("touchstart click",function(n){e.footerDropdownMenu.removeClass("m-dropdown-menu--active")}),e.footerDropdownMenuItem.on("click",function(e){e.preventDefault()})},m=function(){$(".m-horizontal-card__image-wrapper").each(function(){var e=$(this),n=e.find("img").prop("src");n&&e.css("backgroundImage","url("+n+")").addClass("compat-object-fit")})},p=function(){$(".m-product-search__accordion").on("click",function(e){e.preventDefault(),$(this).toggleClass("m-product-search__accordion_open"),$(this).parent().find(".m-product-search__accordion-element").slideToggle(400)})},l=function(){var e=$(".m-product-search__wrapper");if(e.length>0)var n=e.height(),o=e.offset().top;$(".m-product-search__accordion").on("click",function(){setTimeout(function(){e.length>0&&(n=e.height())},420)}),$(window).scroll(function(){if(e.length>0){var t=$(window).scrollTop();if(o<t){e.css("top",t-o);var r=e.offset().top+n,c=$(".m-product-search").offset().top+$(".m-product-search").height();if(c<r){var a=$(".m-product-search").height()-n;e.css("top",a)}}else e.css("top","0")}}),$(window).resize(function(){e.length>0&&(n=e.height())})},d=function(){$(".m-product-search__refine").on("click",function(e){$(".m-input-group__clear, .m-product-search__close, .m-product-search__title, .m-product-search__search input, .m-product-search__search .m-btn, .m-product-search__list").toggle(400),$(".m-product-search").toggleClass("m-product-search_active")}),$(".m-product-search__close").on("click",function(e){$(".m-input-group__clear, .m-product-search__close, .m-product-search__title, .m-product-search__search input, .m-product-search__search .m-btn, .m-product-search__list").toggle(400),$(".m-product-search").toggleClass("m-product-search_active")})},h=function(){e=o(),t(),r(),a(),u(),i(),s(),m(),p(),l(),d()};return{init:h}}();$(document).ready(function(e){mcwModule.init()});